(()=>{var e={991:e=>{e.exports=function(){return this.lodash}()},514:e=>{e.exports=function(){return this.wp.apiFetch}()},538:e=>{e.exports=function(){return this.wp.blockEditor}()},733:e=>{e.exports=function(){return this.wp.blocks}()},893:e=>{e.exports=function(){return this.wp.components}()},576:e=>{e.exports=function(){return this.wp.compose}()},15:e=>{e.exports=function(){return this.wp.data}()},293:e=>{e.exports=function(){return this.wp.element}()},761:e=>{e.exports=function(){return this.wp.hooks}()},122:e=>{e.exports=function(){return this.wp.i18n}()},776:e=>{e.exports=function(){return this.wp.primitives}()},169:e=>{e.exports=function(){return this.wp.serverSideRender}()},470:e=>{e.exports=function(){return this.wp.url}()}},t={};function n(r){var l=t[r];if(void 0!==l)return l.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r);var e=n(293),t=n(122),l=n(991),o=n(576),a=n(761),s=n(15),c=n(538),i=n(893),g=n(776);!(0,l.isUndefined)(wp.primitives)&&(0,e.createElement)(g.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(g.Path,{d:"M6 15v-13h10v13h-10zM5 16h8v2h-10v-13h2v11z"})),!(0,l.isUndefined)(wp.primitives)&&(0,e.createElement)(g.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(g.Path,{d:"M13.89 3.39l2.71 2.72c0.46 0.46 0.42 1.24 0.030 1.64l-8.010 8.020-5.56 1.16 1.16-5.58s7.6-7.63 7.99-8.030c0.39-0.39 1.22-0.39 1.68 0.070zM11.16 6.18l-5.59 5.61 1.11 1.11 5.54-5.65zM8.19 14.41l5.58-5.6-1.070-1.080-5.59 5.6z"})),!(0,l.isUndefined)(wp.primitives)&&(0,e.createElement)(g.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(g.Path,{d:"M17 7v3h-5v5h-3v-5h-5v-3h5v-5h3v5h5z"})),!(0,l.isUndefined)(wp.primitives)&&(0,e.createElement)(g.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(g.Path,{d:"M5 7v3l-2 1.5v-6.5h11v-2l4 3.010-4 2.99v-2h-9zM15 13v-3l2-1.5v6.5h-11v2l-4-3.010 4-2.99v2h9z"}));const u=!(0,l.isUndefined)(wp.primitives)?(0,e.createElement)(g.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(g.Path,{d:"M11 7H9.49c-.63 0-1.25.3-1.59.7L7 5H4.13l-2.39 7h1.69l.74-2H7v4H2c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v2zM6.51 9H4.49l1-2.93zM10 8h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2zm7.25 5v-1.08h-3.17V9.75h-1.16v2.17H9.75V13h1.28c.11.85.56 1.85 1.28 2.62-.87.36-1.89.62-2.31.62-.01.02.22.97.2 1.46.84 0 2.21-.5 3.28-1.15 1.09.65 2.48 1.15 3.34 1.15-.02-.49.2-1.44.2-1.46-.43 0-1.49-.27-2.38-.63.7-.77 1.14-1.77 1.25-2.61h1.36zm-3.81 1.93c-.5-.46-.85-1.13-1.01-1.93h2.09c-.17.8-.51 1.47-1 1.93l-.04.03s-.03-.02-.04-.03z"})):"translation";!(0,l.isUndefined)(wp.primitives)&&(0,e.createElement)(g.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(g.Path,{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"})),!(0,l.isUndefined)(wp.primitives)&&(0,e.createElement)(g.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(g.Path,{d:"m10 1 3 6 6 .75-4.12 4.62L16 19l-6-3-6 3 1.13-6.63L1 7.75 7 7z"}));const p=function(t){let{language:n}=t;return(0,l.isNil)(n)?(0,e.createElement)("span",{className:"pll-translation-icon"},u):(0,l.isEmpty)(n.flag_url)?(0,e.createElement)("abbr",null,n.slug,(0,e.createElement)("span",{className:"screen-reader-text"},n.name)):(0,e.createElement)("span",{className:"pll-select-flag"},(0,e.createElement)("img",{src:n.flag_url,alt:n.name,title:n.name,className:"flag"}))};function m(t){let{handleChange:n,children:r,selectedLanguage:l=null,defaultValue:o=""}=t;const a=null!=l&&l.slug?l.slug:o;return(0,e.createElement)("div",{id:"select-post-language"},(0,e.createElement)(p,{language:l}),r&&(0,e.createElement)("select",{value:a,onChange:e=>n(e),id:"pll_post_lang_choice",name:"pll_post_lang_choice",className:"post_lang_choice"},r))}function h(t){let{languages:n}=t;return Array.from(n.values()).map((t=>{let{slug:n,name:r,w3c:l}=t;return(0,e.createElement)("option",{value:n,lang:l,key:n},r)}))}const d="pll/metabox",w="core/edit-site",f={languages:[],selectedLanguage:{},translatedPosts:{},fromPost:null,currentTemplatePart:{}};var v=n(514),E=n.n(v);n(470);function _(){return!!document.getElementById("widgets-editor")}function T(){return!!document.getElementById("customize-controls")}const C={setLanguages:e=>({type:"SET_LANGUAGES",languages:e}),setCurrentUser(e){return{type:"SET_CURRENT_USER",currentUser:e,save:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},setFromPost:e=>({type:"SET_FROM_POST",fromPost:e}),fetchFromAPI:e=>({type:"FETCH_FROM_API",options:e}),setCurrentTemplatePart:e=>({type:"SET_CURRENT_TEMPLATE_PART",currentTemplatePart:e})},b=((0,s.registerStore)(d,{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LANGUAGES":return{...e,languages:t.languages};case"SET_CURRENT_USER":return t.save&&(n=t.currentUser,E()({path:"/wp/v2/users/me",data:n,method:"POST"})),{...e,currentUser:t.currentUser};case"SET_FROM_POST":return{...e,fromPost:t.fromPost};case"SET_CURRENT_TEMPLATE_PART":return{...e,currentTemplatePart:t.currentTemplatePart};default:return e}var n},selectors:{getLanguages:e=>e.languages,getCurrentUser:e=>e.currentUser,getFromPost:e=>e.fromPost,getCurrentTemplatePart:e=>e.currentTemplatePart},actions:C,controls:{FETCH_FROM_API:e=>E()({...e.options})},resolvers:{*getLanguages(){const e=yield C.fetchFromAPI({path:"/pll/v1/languages",filterLang:!1});return C.setLanguages(function(e,t){const n=new Map;return e.reduce((function(e,n){return e.set(n[t],n),e}),n),n}(e,"slug"))},*getCurrentUser(){const e=yield C.fetchFromAPI({path:"/wp/v2/users/me",filterLang:!0});return C.setCurrentUser(e)},*getCurrentTemplatePart(){const e=y();return C.setCurrentTemplatePart(e)}}}),new Promise((function(e){let t=(0,s.subscribe)((function(){(0,s.select)(d).getLanguages().size>0&&(t(),e())}))})));function y(){var e,t;const n=null===(e=(0,s.select)(w))||void 0===e?void 0:e.getEditedPostId(),r=null===(t=(0,s.select)(w))||void 0===t?void 0:t.getEditedPostType();return(0,s.select)("core").getEntityRecord("postType",r,n)}const P={type:"string",default:"every"};(0,a.addFilter)("blocks.registerBlockType","pll/lang-choice",(function(e,t){return["core/widget-area","core/legacy-widget"].find((e=>e===t))||!_()&&!T()||(e.attributes=(0,l.assign)(e.attributes,{pll_lang:P})),e}));const S=(0,o.createHigherOrderComponent)((n=>r=>{if(!_()&&!T())return(0,e.createElement)(n,r);const o=(0,s.select)(d).getLanguages(),{pll_lang:a}=r.attributes,g=!(0,l.isNil)(a),u=o.get(a);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,r),g&&(0,e.createElement)(c.InspectorControls,null,(0,e.createElement)(i.PanelBody,{title:(0,t.__)("Languages","polylang-pro")},(0,e.createElement)("label",null,(0,t.__)("The block is displayed for:","polylang-pro")),(0,e.createElement)(m,{selectedLanguage:u,handleChange:e=>{const t=e.currentTarget.value;r.setAttributes({pll_lang:t})},defaultValue:P.default},(0,e.createElement)("option",{value:P.default},(0,t.__)("All languages","polylang-pro")," "),(0,e.createElement)(h,{languages:o})))))}),"withInspectorControl");b.then((function(){(0,a.addFilter)("editor.BlockEdit","pll/lang-choice-with-inspector-controls",S)}));var x=n(733),k=n(169),M=n.n(k);const F=pll_block_editor_blocks_settings;function U(t){const n=function(e){return()=>{const n=t.attributes[e],{setAttributes:r}=t;let o,a,s={[e]:!n};switch(e){case"show_names":o="show_flags",a=!t.attributes[o];break;case"show_flags":o="show_names",a=!t.attributes[o]}"show_names"!==e&&"show_flags"!==e||n&&a&&(s=(0,l.assign)(s,{[o]:a})),r(s)}},r=n("dropdown"),o=n("show_names"),a=n("show_flags"),s=n("force_home"),c=n("hide_current"),g=n("hide_if_no_translation"),{dropdown:u,show_names:p,show_flags:m,force_home:h,hide_current:d,hide_if_no_translation:w}=t.attributes;return{ToggleControlDropdown:function(){return(0,e.createElement)(i.ToggleControl,{label:F.dropdown,checked:u,onChange:r})},ToggleControlShowNames:function(){return(0,e.createElement)(i.ToggleControl,{label:F.show_names,checked:p,onChange:o})},ToggleControlShowFlags:function(){return(0,e.createElement)(i.ToggleControl,{label:F.show_flags,checked:m,onChange:a})},ToggleControlForceHome:function(){return(0,e.createElement)(i.ToggleControl,{label:F.force_home,checked:h,onChange:s})},ToggleControlHideCurrent:function(){return(0,e.createElement)(i.ToggleControl,{label:F.hide_current,checked:d,onChange:c})},ToggleControlHideIfNoTranslations:function(){return(0,e.createElement)(i.ToggleControl,{label:F.hide_if_no_translation,checked:w,onChange:g})}}}const B=(0,t.__)("Language switcher","polylang-pro"),L=(0,t.__)("Add a language switcher to allow your visitors to select their preferred language.","polylang-pro"),H=(0,t.__)("Language switcher settings","polylang-pro");(0,x.registerBlockType)("polylang/language-switcher",{title:B,description:L,icon:u,category:"widgets",example:{},edit:t=>{const{dropdown:n}=t.attributes,{ToggleControlDropdown:r,ToggleControlShowNames:l,ToggleControlShowFlags:o,ToggleControlForceHome:a,ToggleControlHideCurrent:s,ToggleControlHideIfNoTranslations:g}=U(t);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(c.InspectorControls,null,(0,e.createElement)(i.PanelBody,{title:H},(0,e.createElement)(r,null),!n&&(0,e.createElement)(l,null),!n&&(0,e.createElement)(o,null),(0,e.createElement)(a,null),!n&&(0,e.createElement)(s,null),(0,e.createElement)(g,null))),(0,e.createElement)(i.Disabled,null,(0,e.createElement)(M(),{block:"polylang/language-switcher",attributes:t.attributes})))}});const z="polylang/navigation-language-switcher";function N(e,t,n,r){return e.map((e=>({...r(e,t,n),innerBlocks:N(e.innerBlocks,t,n,r)})))}(0,x.registerBlockType)(z,{title:B,description:L,icon:u,category:"widgets",parent:["core/navigation"],transforms:{from:[{type:"block",blocks:["core/navigation-link"],transform:()=>(0,x.createBlock)(z)}]},example:{},edit:t=>{const{dropdown:n}=t.attributes,{ToggleControlDropdown:r,ToggleControlShowNames:l,ToggleControlShowFlags:o,ToggleControlForceHome:a,ToggleControlHideCurrent:s,ToggleControlHideIfNoTranslations:g}=U(t);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(c.InspectorControls,null,(0,e.createElement)(i.PanelBody,{title:H},(0,e.createElement)(r,null),(0,e.createElement)(l,null),(0,e.createElement)(o,null),(0,e.createElement)(a,null),!n&&(0,e.createElement)(s,null),(0,e.createElement)(g,null))),(0,e.createElement)(i.Disabled,null,(0,e.createElement)(M(),{block:z,attributes:t.attributes})))}});const A=(e,t,n)=>{var r;if("core/navigation-link"===e.name&&"#pll_switcher"===(null===(r=e.attributes)||void 0===r?void 0:r.url)){const e=(0,l.find)(t,{url:"#pll_switcher"}),r=e.meta._pll_menu_item,o=(0,x.createBlock)(z,r);return n[e.id]=o.clientId,o}return e};(0,a.addFilter)("blocks.navigation.__unstableMenuItemsToBlocks","polylang/include-language-switcher",((e,t)=>({...e,innerBlocks:N(e.innerBlocks,t,e.mapping,A)})))})(),this["polylang-pro"]=r})();